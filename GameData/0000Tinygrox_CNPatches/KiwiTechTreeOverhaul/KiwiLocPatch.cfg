@PARTUPGRADE[mk1PodUpgrade]:NEEDS[KiwiTechTree]
{
    @title = Mk1 指令舱升级 // Mk1 Command Pod Upgrade
    @basicInfo = 20% 质量减少 // 20% Reduced Mass
    @description = 工程师为Mk1系列的指令舱加入了复合材料，可减轻重量。 // The engineers have introduced composite materials to the Mk1 Level Command Pods, decreasing their weight.
}
@PARTUPGRADE[mk2PodUpgrade]:NEEDS[KiwiTechTree]
{
    @title = Mk2 指令舱升级 // Mk2 Command Pod Upgrade
    @basicInfo = 20% 质量减少 // 20% Reduced Mass
    @description = 工程师为Mk2系列的指令舱加入了复合材料，可减轻重量。 // The engineers have introduced composite materials to the Mk2 Level Command Pods, decreasing their weight.
}
@PARTUPGRADE[mk3PodUpgrade]:NEEDS[KiwiTechTree]
{
    @title = Mk3 指令舱升级 // Mk3 Command Pod Upgrade
    @basicInfo = 20% 质量减少 // 20% Reduced Mass
    @description = 工程师为Mk3系列的指令舱加入了复合材料，可减轻重量。 // The engineers have introduced composite materials to the Mk3 Level Command Pods, decreasing their weight.
}
@PARTUPGRADE[mk4PodUpgrade]:NEEDS[KiwiTechTree]
{
    @title = Mk4+ 指令舱升级 // Mk4+ Command Pod Upgrade
    @basicInfo = 20% 质量减少 // 20% Reduced Mass
    @description = 工程师为Mk4+系列的指令舱加入了复合材料，可减轻重量。 // The engineers have introduced composite materials to all Mk4+ Level Command Pods, decreasing their weight.
}

@PART[*]:HAS[@RESOURCE[ElectricCharge]:HAS[#maxAmount[>0]],~name[kerbalEVA*],!MODULE[FSfuelSwitch],~batteryUpgrade[off]]:AFTER[zzzKiwiTechTree]
{
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[batterySwitch]]
    {
        @switcherDescription = 能量密度 // Energy Density
        @switcherDescriptionPlural = 能量密度 // Energy Densities

        @SUBTYPE[Level0]
        {
            @title = 50%密度 // 50% Density
			@descriptionSummary = 50%能量密度 // 50% Baseline Energy Density
        }
        @SUBTYPE[Level1]
        {
            @title = 75%密度 // 75% Density
			@descriptionSummary = 75%能量密度 // 75% Baseline Energy Density
        }
        @SUBTYPE[Level2]
        {
            @title = 100%密度 // 100% Density
			@descriptionSummary = 100%能量密度 // 100% Baseline Energy Density
        }
        @SUBTYPE[Level3]
        {
            @title = 200%密度 // 200% Density
			@descriptionSummary = 200%能量密度 // 200% Baseline Energy Density
        }
        @SUBTYPE[Level4]
        {
            @title = 400%密度 // 400% Density
			@descriptionSummary = 400%能量密度 // 400% Baseline Energy Density
        }
    }
}

@PARTUPGRADE[kiwiBatteryTier1Upgrade]:NEEDS[KiwiTechTree]
{
    @title = 能量密度升级 1 // Energy Density Upgrade 1
    @description = 电池已经升级至能保持更高的能量密度 // Batteries have been upgraded so are able to maintain higher energy density.
    @basicInfo = 75%的能量密度 // 75% Baseline Energy Density
}
@PARTUPGRADE[kiwiBatteryTier2Upgrade]:NEEDS[KiwiTechTree]
{
    @title = 能量密度升级 2 // Energy Density Upgrade 2
    @description = 电池已经升级至能保持更高的能量密度 // Batteries have been upgraded so are able to maintain higher energy density.
    @basicInfo = 100%的能量密度 // 100% Baseline Energy Density
}
@PARTUPGRADE[kiwiBatteryTier3Upgrade]:NEEDS[KiwiTechTree]
{
    @title = 能量密度升级 3 // Energy Density Upgrade 3
    @description = 电池已经升级至能保持更高的能量密度 // Batteries have been upgraded so are able to maintain higher energy density.
    @basicInfo = 200%的能量密度 // 200% Baseline Energy Density
}
@PARTUPGRADE[kiwiBatteryTier4Upgrade]:NEEDS[KiwiTechTree]
{
    @title = 能量密度升级 4 // Energy Density Upgrade 3
    @description = 电池已经升级至能保持更高的能量密度 // Batteries have been upgraded so are able to maintain higher energy density.
    @basicInfo = 400%的能量密度 // 400% Baseline Energy Density
}

@PART[*]:HAS[#commandUpgradeType[standard],@RESOURCE[MonoPropellant],~commandUpgrade[off]]:AFTER[zzKiwiTechTree]
{
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[materialSwitch]]
    {
        @switcherDescription = 材料选择 // Material Switch
        @SUBTYPE[Baseline]
        {
            @title = 基础材料 // Base Material
			@descriptionSummary = 基础材料 // Base Material
        }
        @SUBTYPE[Improved]
        {
            @title = 复合材料 // Composite Material
			@descriptionSummary = 复合材料 // Composite Material
        }
    }
}

@PART[*]:HAS[#commandUpgradeType[standard],#commandUpgradeName[mk1PodUpgrade],~commandUpgrade[off]]:AFTER[zzKiwiTechTree]
{
    @description ^= #:This command module has upgrades in $@PARTUPGRADE[mk1PodUpgrade]/techRequired$!:此指令舱模块在$@PARTUPGRADE[mk1PodUpgrade]/techRequired$节点拥有升级选项!:
}
@PART[*]:HAS[#commandUpgradeType[standard],#commandUpgradeName[mk2PodUpgrade],~commandUpgrade[off]]:AFTER[zzKiwiTechTree]
{
    @description ^= #:This command module has upgrades in $@PARTUPGRADE[mk2PodUpgrade]/techRequired$!:此指令舱模块在$@PARTUPGRADE[mk2PodUpgrade]/techRequired$节点拥有升级选项!:
}
@PART[*]:HAS[#commandUpgradeType[standard],#commandUpgradeName[mk3PodUpgrade],~commandUpgrade[off]]:AFTER[zzKiwiTechTree]
{
    @description ^= #:This command module has upgrades in $@PARTUPGRADE[mk3PodUpgrade]/techRequired$!:此指令舱模块在$@PARTUPGRADE[mk3PodUpgrade]/techRequired$节点拥有升级选项!:
}
@PART[*]:HAS[#commandUpgradeType[standard],#commandUpgradeName[mk4PodUpgrade],~commandUpgrade[off]]:AFTER[zzKiwiTechTree]
{
    @description ^= #:This command module has upgrades in $@PARTUPGRADE[mk4PodUpgrade]/techRequired$!:此指令舱模块在$@PARTUPGRADE[mk4PodUpgrade]/techRequired$节点拥有升级选项!:
}
@PART[*]:HAS[#engineUpgradeType[aerospikeLFO],~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
    {
        @switcherDescriptionPlural = 引擎型号 // Engine Models
        @switcherDescription = 引擎 // Engine Switch

        @SUBTYPE[original]
        {
            @descriptionSummary = 原版 // Original
            @descriptionDetail = #<b>推力:</b> $../../thrust10atm0$ kN 10atm / $../../thrustASL0$ kN 海平面 / $../../thrustVac0$ kN 真空\n<b>比冲:</b> $../../isp10atm0$ s 10atm / $../../ispASL0$ s 海平面 / $../../ispVac0$ s 真空
        }

        @SUBTYPE[upgrade]
        {
            @descriptionSummary = #升级: $../../thrustMultiplierDescription$% 推力提升, $../../ispMultiplierDescription$% 比冲提升
            @descriptionDetail = #<b>推力:</b> $../../thrust10atm1$ kN 10atm / $../../thrustASL1$ kN 海平面 / $../../thrustVac1$ kN 真空\n<b>比冲:</b> $../../isp10atm1$ s 10atm / $../../ispASL1$ s 海平面 / $../../ispVac1$ s 真空
        }
    }
}
@PART[*]:HAS[#engineUpgradeType[aerospikeNuclear],~engineUpgrade[off]]:NEEDS[KerbalAtomics]:AFTER[zzKiwiTechTree]
{
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
    {
        @switcherDescriptionPlural = 引擎型号 // Engine Models
        @switcherDescription = 引擎 // Engine Switch

        @SUBTYPE[original]
        {
            @descriptionSummary = 原版 // Original
            @descriptionDetail = #<b>模式:</b> $../../engineModeID0$\n<b>推力:</b> $../../thrustASL0_0$ kN 海平面 / KnownError kN 真空\n<b>比冲:</b> $../../ispASL0_0$ s 海平面 / KnownError s 真空\n\n<b>模式:</b> $../../engineModeID1$\n<b>推力:</b> $../../thrustASL0_1$ kN 海平面 / KnownError kN 真空\n<b>比冲:</b> $../../ispASL0_1$ s 海平面 / KnownError s 真空 // #<b>Mode:</b> $../../engineModeID0$\n<b>Thrust:</b> $../../thrustASL0_0$ kN ASL / KnownError kN Vac.\n<b>Isp:</b> $../../ispASL0_0$ s ASL / KnownError s Vac.\n\n<b>Mode:</b> $../../engineModeID1$\n<b>Thrust:</b> $../../thrustASL0_1$ kN ASL / KnownError kN Vac.\n<b>Isp:</b> $../../ispASL0_1$ s ASL / KnownError s Vac.
        }

        @SUBTYPE[upgrade]
        {
            @descriptionSummary = #升级: $../../thrustMultiplierDescription$% 推力提升, $../../ispMultiplierDescription$% 比冲提升 // #Upgrade: $../../thrustMultiplierDescription$% Increased Thrust, $../../ispMultiplierDescription$% Increased Specific Impulse.
            @descriptionDetail = #<b>模式:</b> $../../engineModeID0$\n<b>推力:</b> $../../thrustASL1_0$ kN 海平面 / KnownError kN 真空\n<b>比冲:</b> $../../ispASL1_0$ s 海平面 / KnownError s 真空\n\n<b>模式:</b> $../../engineModeID1$\n<b>推力:</b> $../../thrustASL1_1$ kN 海平面 / KnownError kN 真空\n<b>比冲:</b> $../../ispASL1_1$ s 海平面 / KnownError s 真空 // #<b>Mode:</b> $../../engineModeID0$\n<b>Thrust:</b> $../../thrustASL1_0$ kN ASL / KnownError kN Vac.\n<b>Isp:</b> $../../ispASL1_0$ s ASL / KnownError s Vac.\n\n<b>Mode:</b> $../../engineModeID1$\n<b>Thrust:</b> $../../thrustASL1_1$ kN ASL / KnownError kN Vac.\n<b>Isp:</b> $../../ispASL1_1$ s ASL / KnownError s Vac.
        }
    }
}

@PART[*]:HAS[#engineUpgradeType[dualJet],~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
    {
        @switcherDescriptionPlural = 引擎型号 // Engine Models
        @switcherDescription = 引擎 // Engine Switch
        
        @SUBTYPE[original]
        {
            @descriptionSummary = 原版 // Original
            @descriptionDetail = #模式: $../../engineModeID0$\n<b>静态推力:</b> $../../thrustAtm0$ kN \n<b>比冲:</b> $../../ispAtm0$ s 海平面\n\n模式: $../../engineModeID1$\n<b>静态推力:</b> $../../thrustAtm01$ kN \n<b>比冲:</b> $../../ispAtm01$ s 海平面 // #Mode: $../../engineModeID0$\n<b>Stationary Thrust:</b> $../../thrustAtm0$ kN \n<b>Isp:</b> $../../ispAtm0$ s ASL\n\n Mode: $../../engineModeID1$\n<b>Stationary Thrust:</b> $../../thrustAtm01$ kN \n<b>Isp:</b> $../../ispAtm01$ s ASL
        }
        @SUBTYPE[upgrade]
        {
            @descriptionSummary = #升级: $../../thrustMultiplierDescription$% 推力提升, $../../ispMultiplierDescription$% 比冲提升. // #Upgrade: $../../thrustMultiplierDescription$% Increased Thrust, $../../ispMultiplierDescription$% Increased Specific Impulse.
            @descriptionDetail = #模式: $../../engineModeID0$\n<b>静态推力:</b> $../../thrustAtm1$ kN \n<b>比冲:</b> $../../ispAtm1$ s 海平面\n\n模式: $../../engineModeID1$\n<b>静态推力:</b> $../../thrustAtm11$ kN \n<b>比冲:</b> $../../ispAtm11$ s 海平面 // #Mode: $../../engineModeID0$\n<b>Stationary Thrust:</b> $../../thrustAtm1$ kN \n<b>Isp:</b> $../../ispAtm1$ s ASL\n\n Mode: $../../engineModeID1$\n<b>Stationary Thrust:</b> $../../thrustAtm11$ kN \n<b>Isp:</b> $../../ispAtm11$ s ASL
        }
    }
}
@PART[*]:HAS[#engineUpgradeType[dualLFO],~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
    {
        @switcherDescriptionPlural = 引擎型号 // Engine Models
        @switcherDescription = 引擎 // Engine Switch
        
        @SUBTYPE[original]
        {
            @descriptionSummary = 原版 // Original
            @descriptionDetail = #模式: $../../engineModeID0$\n<b>推力:</b> $../../thrustASL0$ kN 海平面 / $../../thrustVac0$ kN 真空\n<b>比冲:</b> $../../ispASL0$ s 海平面 / $../../ispVac0$ s 真空. \n\n 模式: $../../engineModeID1$\n<b>推力:</b> $../../thrustASL0_1$ kN 海平面 / $../../thrustVac0_1$ kN 真空\n<b>比冲:</b> $../../ispASL0_1$ s 海平面 / $../../ispVac0_1$ s 真空 // #Mode: $../../engineModeID0$\n<b>Thrust:</b> $../../thrustASL0$ kN ASL / $../../thrustVac0$ kN Vac.\n<b>Isp:</b> $../../ispASL0$ s ASL / $../../ispVac0$ s Vac. \n\n Mode: $../../engineModeID1$\n<b>Thrust:</b> $../../thrustASL0_1$ kN ASL / $../../thrustVac0_1$ kN Vac.\n<b>Isp:</b> $../../ispASL0_1$ s ASL / $../../ispVac0_1$ s Vac.
        }
        @SUBTYPE[upgrade]
        {
            @descriptionSummary = #升级: $../../thrustMultiplierDescription$% 推力提升, $../../ispMultiplierDescription$% 比冲提升. // #Upgrade: $../../thrustMultiplierDescription$% Increased Thrust, $../../ispMultiplierDescription$% Increased Specific Impulse.
            @descriptionDetail = #模式: $../../engineModeID0$\n<b>推力:</b> $../../thrustASL1$ kN 海平面 / $../../thrustVac1$ kN 真空\n<b>比冲:</b> $../../ispASL1$ s 海平面 / $../../ispVac1$ s 真空 \n\n 模式: $../../engineModeID1$\n<b>推力:</b> $../../thrustASL1_1$ kN 海平面 / $../../thrustVac1_1$ kN 真空\n<b>比冲:</b> $../../ispASL1_1$ s 海平面 / $../../ispVac1_1$ s 真空 // #Mode: $../../engineModeID0$\n<b>Thrust:</b> $../../thrustASL1$ kN ASL / $../../thrustVac1$ kN Vac.\n<b>Isp:</b> $../../ispASL1$ s ASL / $../../ispVac1$ s Vac. \n\n Mode: $../../engineModeID1$\n<b>Thrust:</b> $../../thrustASL1_1$ kN ASL / $../../thrustVac1_1$ kN Vac.\n<b>Isp:</b> $../../ispASL1_1$ s ASL / $../../ispVac1_1$ s Vac.
        }
    }
}
